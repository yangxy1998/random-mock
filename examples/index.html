<!DOCTYPE html>
<html>
    <body>
        <div id="menu"></div>
        <canvas id="chart"></canvas>
    </body>
    <script src="./dist/main.js"></script>
    <script src="../build/random-mock.js"></script>
    <script>
        const attributes = [
            {
                name: 'x',
                type: 'continuous',
                distribution: {
                    type: 'uniform',
                    begin: -5,
                    end: 5
                }
            },
            {
                name: 'y',
                type: 'continuous',
                distribution: {
                    type: 'uniform',
                    begin: -5,
                    end: 5
                }
            },
            {
                name: 'series',
                type: 'category',
                distribution: {
                    type: 'standard',
                    range: ['a', 'b']
                }
            }
        ]
        const rules = [
            {
                source: ['x', 'y'],
                target: 'series',
                type: 'mappingtable',
                conditions: [
                    {
                        and: (item) =>
                            item.x * item.x +
                                Math.pow(item.y - Math.pow(item.x * item.x, 1 / 2), 2) <=
                            5,
                        value: 'a'
                    },
                    {
                        and: (item) =>
                            item.x * item.x +
                                Math.pow(item.y - Math.pow(item.x * item.x, 1 / 2), 2) >
                            5,
                        value: 'b'
                    }
                ]
            }
        ]
        const config = {
            attributes,
            rules
        }
        let mocker = new RandMock.Mocker(config)
        let data = mocker.create({
            count: 10000,
            mode: RandMock.DataMode.Object
        })
        console.log(data)
        const chart = new ExampleChart()
        chart.data(mocker.attributes, data)
    </script>
</html>
